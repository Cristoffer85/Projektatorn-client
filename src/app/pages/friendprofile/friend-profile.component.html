<div class="card shadow-sm">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="mb-0">{{ friend?.username }}</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="close.emit()"></button>
  </div>
  <div class="card-body">
        <p *ngIf="friend?.avatar">
      <strong>Avatar:</strong>
      <img
        [src]="avatarBaseUrl + friend.avatar"
        [alt]="friend.avatar"
        width="48"
        height="48"
        class="rounded border ms-2 align-middle"
      />
    </p>
    <p *ngIf="friend?.email"><strong>Email:</strong> {{ friend.email }}</p>
    <p *ngIf="friend?.forestanimal"><strong>Favourite Forest Animal -</strong> {{ friend.forestanimal }}</p>
    <p *ngIf="friend?.soursnack"><strong>Favourite Sour Snack -</strong> {{ friend.soursnack }}</p>
    <p *ngIf="friend?.birthday"><strong>Birthdate:</strong> {{ friend.birthday }}</p>
    <button
      class="btn btn-danger mt-3 w-100"
      (click)="confirmRemove()"
      *ngIf="isFriend"
    >
      Remove Friend
    </button>
    <button
      class="btn btn-primary mt-3 w-100"
      (click)="addFriend.emit(friend)"
      *ngIf="!isFriend"
    >
      Add Friend
    </button>
  </div>
</div>

<!-- Confirmation Modal -->
<div
  class="modal fade show"
  tabindex="-1"
  style="display:block; background:rgba(0,0,0,0.3);"
  *ngIf="showConfirm"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirm Removal</h5>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to remove this friend?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" (click)="cancelRemove()">No</button>
        <button class="btn btn-secondary" (click)="doRemove()">Yes, Remove</button>
      </div>
    </div>
  </div>
</div>